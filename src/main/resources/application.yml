spring:
  application:
    name: mds-historical-subsystem
  lifecycle:
    timeout-per-shutdown-phase: 30s

server:
  port: 8080
  shutdown: graceful

management:
  endpoints:
    web:
      exposure:
        include: info,health,prometheus,metrics

  endpoint:
    health:
      probes:
        enabled: true
      show-details: always

  health:
    livenessState.enabled: true
    readinessState.enabled: true

  metrics:
    tags:
      application: ${spring.application.name}
      environment: ${ENVIRONMENT:dev}
    distribution:
      percentiles-histogram.http.server.requests: true
      percentiles.http.server.requests: 0.5, 0.95, 0.99
      slo.http.server.requests: 10ms,50ms,100ms,200ms,500ms,1s,5s
    enable:
      jvm: true
      process: true
      system: true
      tomcat: true
      logback: true
    export.prometheus.enabled: true

  tracing.sampling.probability: 1.0
  observations.annotations.enabled: true

otel:
  exporter.otlp.endpoint: ${OTEL_EXPORTER_OTLP_ENDPOINT:http://localhost:4318}
  traces.exporter: otlp

logging:
  level:
    root: INFO
    com.imanai.tap.mds.historical: DEBUG
  pattern.console: "%d{yyyy-MM-dd'T'HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
